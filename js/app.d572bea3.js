(function(){"use strict";var a={8685:function(a,e,t){var n=t(5130),o=t(6768);const s={id:"app"};function i(a,e,t,n,i,r){const c=(0,o.g2)("LoginPage"),l=(0,o.g2)("MainPage");return(0,o.uX)(),(0,o.CE)("div",s,[a.isAuthenticated?((0,o.uX)(),(0,o.Wv)(l,{key:1})):((0,o.uX)(),(0,o.Wv)(c,{key:0}))])}var r=t(782),c=t.p+"img/logo.1a43b2bb.png",l=t(144);const u={class:"login-container"},d={class:"buttons"},p={class:"modal-content"},v={class:"form-group"},f={class:"form-group"};var m=(0,o.pM)({__name:"LoginCard",props:{showLogin:{type:Boolean}},setup(a){const e=(0,l.KR)(""),t=(0,l.KR)("");return(a,s)=>((0,o.uX)(),(0,o.CE)("div",u,[s[12]||(s[12]=(0,o.Lk)("h1",null,"Welcome to Relation!",-1)),s[13]||(s[13]=(0,o.Lk)("h2",null,"Connect, Share, and Grow Together",-1)),(0,o.Lk)("div",d,[s[6]||(s[6]=(0,o.Fv)('<button class="google" data-v-611bb4b1>Sign in with Google</button><button class="apple" data-v-611bb4b1>Sign in with Apple</button><div class="divider" data-v-611bb4b1>---- or ----</div><button class="create-account" data-v-611bb4b1>Create Account</button><p class="signin" data-v-611bb4b1>Already have an account?</p>',5)),(0,o.Lk)("button",{class:"login",onClick:s[0]||(s[0]=e=>a.$emit("toggleModal"))},"Login")]),a.showLogin?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:s[5]||(s[5]=(0,n.D$)((e=>a.$emit("toggleModal")),["self"]))},[(0,o.Lk)("div",p,[(0,o.Lk)("button",{class:"close-btn",onClick:s[1]||(s[1]=e=>a.$emit("toggleModal"))},"×"),s[10]||(s[10]=(0,o.Lk)("h3",null,"Log In",-1)),(0,o.Lk)("form",{onSubmit:s[4]||(s[4]=(0,n.D$)((n=>a.$emit("login",{username:e.value,password:t.value})),["prevent"]))},[(0,o.Lk)("div",v,[s[7]||(s[7]=(0,o.Lk)("label",{for:"account"},"Account",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"account","onUpdate:modelValue":s[2]||(s[2]=a=>e.value=a),placeholder:"Enter your account",required:"",autocomplete:"username"},null,512),[[n.Jo,e.value]])]),(0,o.Lk)("div",f,[s[8]||(s[8]=(0,o.Lk)("label",{for:"password"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[3]||(s[3]=a=>t.value=a),placeholder:"Enter your password",required:"",autocomplete:"current-password"},null,512),[[n.Jo,t.value]])]),s[9]||(s[9]=(0,o.Lk)("button",{type:"submit",class:"submit-btn"},"Confirm",-1))],32),s[11]||(s[11]=(0,o.Lk)("p",null,[(0,o.eW)("Don't have an account? "),(0,o.Lk)("a",{href:"#"},"Sign Up")],-1))])])):(0,o.Q3)("",!0)]))}}),g=t(1241);const h=(0,g.A)(m,[["__scopeId","data-v-611bb4b1"]]);var b=h;const k={class:"container"},L={class:"right-side"};var y=(0,o.pM)({__name:"LoginPage",setup(a){const e=(0,r.Pj)(),t=(0,l.KR)(!1),n=()=>{t.value=!t.value},s=async a=>{try{await e.dispatch("auth/login",a);n()}catch(t){console.error(t),alert("Login failed. Please try again.")}};return(a,e)=>((0,o.uX)(),(0,o.CE)("div",k,[e[0]||(e[0]=(0,o.Lk)("div",{class:"left-side"},[(0,o.Lk)("img",{src:c,alt:"logo",id:"logo"})],-1)),(0,o.Lk)("div",L,[(0,o.bF)(b,{showLogin:t.value,onToggleModal:n,onLogin:s},null,8,["showLogin"])])]))}});const w=(0,g.A)(y,[["__scopeId","data-v-3bd1a8c0"]]);var _=w;const P={id:"app"},C={class:"container"};function A(a,e,t,n,s,i){const r=(0,o.g2)("NavBar");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("div",C,[(0,o.bF)(r),e[0]||(e[0]=(0,o.Lk)("div",{id:"posts"},"Posts",-1)),e[1]||(e[1]=(0,o.Lk)("div",{id:"news"},"News",-1))])])}const M={class:"sidebar"};function E(a,e,t,n,s,i){const r=(0,o.g2)("AccountMenu");return(0,o.uX)(),(0,o.CE)("div",M,[e[0]||(e[0]=(0,o.Fv)('<img id="nav-item" src="'+c+'" alt="icon" data-v-713d2ea7><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-home" data-v-713d2ea7></i><span data-v-713d2ea7>Home</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-search" data-v-713d2ea7></i><span data-v-713d2ea7>Explore</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-bell" data-v-713d2ea7></i><span data-v-713d2ea7>Notifications</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-envelope" data-v-713d2ea7></i><span data-v-713d2ea7>Messages</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-brain" data-v-713d2ea7></i><span data-v-713d2ea7>Grok</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-bookmark" data-v-713d2ea7></i><span data-v-713d2ea7>Bookmarks</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-briefcase" data-v-713d2ea7></i><span data-v-713d2ea7>Jobs</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-users" data-v-713d2ea7></i><span data-v-713d2ea7>Communities</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-star" data-v-713d2ea7></i><span data-v-713d2ea7>Premium</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-user" data-v-713d2ea7></i><span data-v-713d2ea7>Profile</span></a><a class="menu-item" href="#" data-v-713d2ea7><i class="fas fa-ellipsis-h" data-v-713d2ea7></i><span data-v-713d2ea7>More</span></a><a class="post-button" href="#" data-v-713d2ea7>Post</a>',13)),(0,o.bF)(r)])}var j=t(4232),O=t.p+"img/male.79b1906c.png";const S={class:"profile-container"},T=["src"],X={class:"profile-info"},I={key:0,class:"menu-dropdown"};var x=(0,o.pM)({__name:"AccountMenu",setup(a){const e=O,t=(0,l.KR)(e),s=(0,l.KR)("Sunny Tseng"),i=(0,l.KR)("__SunnyTseng__"),c=(0,l.KR)(!1),u=(0,r.Pj)(),d=()=>{u.dispatch("auth/logout")},p=async()=>{try{const a=await fetch("https://api.example.com/user/profilePict");if(a.ok){const e=await a.json();e&&e.image&&(t.value=e.image)}else console.error("Failed to fetch profile image:",a.status)}catch(a){console.error("Error fetching profile image:",a)}};(0,o.sV)((()=>{p()}));const v=()=>{c.value=!c.value},f=a=>{console.log("更多選項按鈕被點擊")};return(a,e)=>((0,o.uX)(),(0,o.CE)("div",S,[(0,o.Lk)("div",{class:"profile-component",onClick:v},[(0,o.Lk)("img",{src:t.value,alt:"Profile Picture",class:"profile-image"},null,8,T),(0,o.Lk)("div",X,[(0,o.Lk)("h3",null,(0,j.v_)(s.value),1),(0,o.Lk)("p",null,(0,j.v_)(i.value),1)]),(0,o.Lk)("button",{onClick:(0,n.D$)(f,["stop"]),class:"more-options"},"...")]),(0,o.bF)(n.eB,{name:"menu-slide"},{default:(0,o.k6)((()=>[c.value?((0,o.uX)(),(0,o.CE)("div",I,[e[0]||(e[0]=(0,o.Lk)("p",null,"Setting",-1)),(0,o.Lk)("button",{class:"logout-btn",onClick:d},"Logout "+(0,j.v_)(i.value),1)])):(0,o.Q3)("",!0)])),_:1})]))}});const F=(0,g.A)(x,[["__scopeId","data-v-651234ba"]]);var R=F,$=(0,o.pM)({name:"NavBar",components:{AccountMenu:R},setup(){const a=(0,r.Pj)(),e=()=>{a.dispatch("auth/logout")};return{handleLogout:e}}});(0,r.Pj)();const K=(0,g.A)($,[["render",E],["__scopeId","data-v-713d2ea7"]]);var B=K,N=(0,o.pM)({name:"MainPage",components:{NavBar:B}});const W=(0,g.A)(N,[["render",A],["__scopeId","data-v-5afaec13"]]);var D=W,J=(0,o.pM)({name:"App",components:{LoginPage:_,MainPage:D},setup(){const a=(0,r.Pj)(),e=(0,o.EW)((()=>a.getters["auth/isAuthenticated"]));return{isAuthenticated:e}}});const G=(0,g.A)(J,[["render",i]]);var U=G;const V={token:localStorage.getItem("token")||null},q={isAuthenticated(a){return!!a.token}},Q={setToken(a,e){a.token=e,localStorage.setItem("token",e)},clearToken(a){a.token=null,localStorage.removeItem("token")}},H={async login({commit:a},e){try{const t=await fetch("https://home.sunnytseng.com/api/relation/token/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Login failed");const n=await t.json();return a("setToken",n.access),n}catch(t){throw console.error(t),t}},logout({commit:a}){a("clearToken")}};var z={namespaced:!0,state:V,getters:q,mutations:Q,actions:H},Y=(0,r.y$)({modules:{auth:z}});(0,n.Ef)(U).use(Y).mount("#app")}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return a[n].call(s.exports,s,s.exports,t),s.exports}t.m=a,function(){var a=[];t.O=function(e,n,o,s){if(!n){var i=1/0;for(u=0;u<a.length;u++){n=a[u][0],o=a[u][1],s=a[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(t.O).every((function(a){return t.O[a](n[c])}))?n.splice(c--,1):(r=!1,s<i&&(i=s));if(r){a.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=a.length;u>0&&a[u-1][2]>s;u--)a[u]=a[u-1];a[u]=[n,o,s]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.p="/"}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,n){var o,s,i=n[0],r=n[1],c=n[2],l=0;if(i.some((function(e){return 0!==a[e]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(c)var u=c(t)}for(e&&e(n);l<i.length;l++)s=i[l],t.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return t.O(u)},n=self["webpackChunkrelation_frontend"]=self["webpackChunkrelation_frontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(8685)}));n=t.O(n)})();
//# sourceMappingURL=app.d572bea3.js.map