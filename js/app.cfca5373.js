(function(){"use strict";var a={3011:function(a,t,n){var e=n(5130),o=n(6768);const s={id:"app"};function d(a,t,n,e,d,i){const r=(0,o.g2)("LoginPage"),c=(0,o.g2)("MainPage");return(0,o.uX)(),(0,o.CE)("div",s,[a.isAuthenticated?((0,o.uX)(),(0,o.Wv)(c,{key:1})):((0,o.uX)(),(0,o.Wv)(r,{key:0}))])}var i=n(782),r=n.p+"img/logo.1a43b2bb.png",c=n(144);const l={class:"login-container"},u={class:"buttons"},v={class:"modal-content"},p={class:"form-group"},f={class:"form-group"};var m=(0,o.pM)({__name:"LoginCard",props:{showLogin:{type:Boolean}},setup(a){const t=(0,c.KR)(""),n=(0,c.KR)("");return(a,s)=>((0,o.uX)(),(0,o.CE)("div",l,[s[12]||(s[12]=(0,o.Lk)("h1",null,"Welcome to Relation!",-1)),s[13]||(s[13]=(0,o.Lk)("h2",null,"Connect, Share, and Grow Together",-1)),(0,o.Lk)("div",u,[s[6]||(s[6]=(0,o.Fv)('<button class="google" data-v-611bb4b1>Sign in with Google</button><button class="apple" data-v-611bb4b1>Sign in with Apple</button><div class="divider" data-v-611bb4b1>---- or ----</div><button class="create-account" data-v-611bb4b1>Create Account</button><p class="signin" data-v-611bb4b1>Already have an account?</p>',5)),(0,o.Lk)("button",{class:"login",onClick:s[0]||(s[0]=t=>a.$emit("toggleModal"))},"Login")]),a.showLogin?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:s[5]||(s[5]=(0,e.D$)((t=>a.$emit("toggleModal")),["self"]))},[(0,o.Lk)("div",v,[(0,o.Lk)("button",{class:"close-btn",onClick:s[1]||(s[1]=t=>a.$emit("toggleModal"))},"Ã—"),s[10]||(s[10]=(0,o.Lk)("h3",null,"Log In",-1)),(0,o.Lk)("form",{onSubmit:s[4]||(s[4]=(0,e.D$)((e=>a.$emit("login",{username:t.value,password:n.value})),["prevent"]))},[(0,o.Lk)("div",p,[s[7]||(s[7]=(0,o.Lk)("label",{for:"account"},"Account",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"account","onUpdate:modelValue":s[2]||(s[2]=a=>t.value=a),placeholder:"Enter your account",required:"",autocomplete:"username"},null,512),[[e.Jo,t.value]])]),(0,o.Lk)("div",f,[s[8]||(s[8]=(0,o.Lk)("label",{for:"password"},"Password",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[3]||(s[3]=a=>n.value=a),placeholder:"Enter your password",required:"",autocomplete:"current-password"},null,512),[[e.Jo,n.value]])]),s[9]||(s[9]=(0,o.Lk)("button",{type:"submit",class:"submit-btn"},"Confirm",-1))],32),s[11]||(s[11]=(0,o.Lk)("p",null,[(0,o.eW)("Don't have an account? "),(0,o.Lk)("a",{href:"#"},"Sign Up")],-1))])])):(0,o.Q3)("",!0)]))}}),g=n(1241);const h=(0,g.A)(m,[["__scopeId","data-v-611bb4b1"]]);var b=h;const k={class:"container"},L={class:"right-side"};var w=(0,o.pM)({__name:"LoginPage",setup(a){const t=(0,i.Pj)(),n=(0,c.KR)(!1),e=()=>{n.value=!n.value},s=async a=>{try{await t.dispatch("auth/login",a);e()}catch(n){console.error(n),alert("Login failed. Please try again.")}};return(a,t)=>((0,o.uX)(),(0,o.CE)("div",k,[t[0]||(t[0]=(0,o.Lk)("div",{class:"left-side"},[(0,o.Lk)("img",{src:r,alt:"logo",id:"logo"})],-1)),(0,o.Lk)("div",L,[(0,o.bF)(b,{showLogin:n.value,onToggleModal:e,onLogin:s},null,8,["showLogin"])])]))}});const y=(0,g.A)(w,[["__scopeId","data-v-3bd1a8c0"]]);var P=y;const C={id:"app"},_={class:"container"};function A(a,t,n,e,s,d){const i=(0,o.g2)("NavBar");return(0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("div",_,[(0,o.bF)(i),t[0]||(t[0]=(0,o.Lk)("div",{id:"posts"},"Posts",-1)),t[1]||(t[1]=(0,o.Lk)("div",{id:"news"},"News",-1))])])}const M={class:"sidebar"};function O(a,t,n,e,s,d){return(0,o.uX)(),(0,o.CE)("div",M,[t[1]||(t[1]=(0,o.Fv)('<img id="nav-item" src="'+r+'" alt="icon" data-v-8d4d2068><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-home" data-v-8d4d2068></i><span data-v-8d4d2068>Home</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-search" data-v-8d4d2068></i><span data-v-8d4d2068>Explore</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-bell" data-v-8d4d2068></i><span data-v-8d4d2068>Notifications</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-envelope" data-v-8d4d2068></i><span data-v-8d4d2068>Messages</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-brain" data-v-8d4d2068></i><span data-v-8d4d2068>Grok</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-bookmark" data-v-8d4d2068></i><span data-v-8d4d2068>Bookmarks</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-briefcase" data-v-8d4d2068></i><span data-v-8d4d2068>Jobs</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-users" data-v-8d4d2068></i><span data-v-8d4d2068>Communities</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-star" data-v-8d4d2068></i><span data-v-8d4d2068>Premium</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-check-circle" data-v-8d4d2068></i><span data-v-8d4d2068>Verified Orgs</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-user" data-v-8d4d2068></i><span data-v-8d4d2068>Profile</span></a><a class="menu-item" href="#" data-v-8d4d2068><i class="fas fa-ellipsis-h" data-v-8d4d2068></i><span data-v-8d4d2068>More</span></a><a class="post-button" href="#" data-v-8d4d2068>Post</a>',14)),(0,o.Lk)("button",{class:"logout-btn",onClick:t[0]||(t[0]=(...t)=>a.handleLogout&&a.handleLogout(...t))},"Logout")])}var j=(0,o.pM)({name:"NavBar",components:{},setup(){const a=(0,i.Pj)(),t=()=>{a.dispatch("auth/logout")};return{handleLogout:t}}});(0,i.Pj)();const E=(0,g.A)(j,[["render",O],["__scopeId","data-v-8d4d2068"]]);var S=E,T=(0,o.pM)({name:"MainPage",components:{NavBar:S}});const I=(0,g.A)(T,[["render",A],["__scopeId","data-v-389c163a"]]);var X=I,x=(0,o.pM)({name:"App",components:{LoginPage:P,MainPage:X},setup(){const a=(0,i.Pj)(),t=(0,o.EW)((()=>a.getters["auth/isAuthenticated"]));return{isAuthenticated:t}}});const $=(0,g.A)(x,[["render",d]]);var N=$;const B={token:localStorage.getItem("token")||null},F={isAuthenticated(a){return!!a.token}},W={setToken(a,t){a.token=t,localStorage.setItem("token",t)},clearToken(a){a.token=null,localStorage.removeItem("token")}},J={async login({commit:a},t){try{const n=await fetch("https://home.sunnytseng.com/api/relation/token/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Login failed");const e=await n.json();return a("setToken",e.access),e}catch(n){throw console.error(n),n}},logout({commit:a}){a("clearToken")}};var R={namespaced:!0,state:B,getters:F,mutations:W,actions:J},D=(0,i.y$)({modules:{auth:R}});(0,e.Ef)(N).use(D).mount("#app")}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var s=t[e]={exports:{}};return a[e].call(s.exports,s,s.exports,n),s.exports}n.m=a,function(){var a=[];n.O=function(t,e,o,s){if(!e){var d=1/0;for(l=0;l<a.length;l++){e=a[l][0],o=a[l][1],s=a[l][2];for(var i=!0,r=0;r<e.length;r++)(!1&s||d>=s)&&Object.keys(n.O).every((function(a){return n.O[a](e[r])}))?e.splice(r--,1):(i=!1,s<d&&(d=s));if(i){a.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=a.length;l>0&&a[l-1][2]>s;l--)a[l]=a[l-1];a[l]=[e,o,s]}}(),function(){n.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return n.d(t,{a:t}),t}}(),function(){n.d=function(a,t){for(var e in t)n.o(t,e)&&!n.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){n.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){n.p="/"}(),function(){var a={524:0};n.O.j=function(t){return 0===a[t]};var t=function(t,e){var o,s,d=e[0],i=e[1],r=e[2],c=0;if(d.some((function(t){return 0!==a[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(r)var l=r(n)}for(t&&t(e);c<d.length;c++)s=d[c],n.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return n.O(l)},e=self["webpackChunkrelation_frontend"]=self["webpackChunkrelation_frontend"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=n.O(void 0,[504],(function(){return n(3011)}));e=n.O(e)})();
//# sourceMappingURL=app.cfca5373.js.map