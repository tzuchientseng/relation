(function(){"use strict";var e={4244:function(e,a,t){var o=t(5130),n=t(6768);const s={id:"app"};function i(e,a,t,o,i,r){const c=(0,n.g2)("LoginPage"),l=(0,n.g2)("MainPage");return(0,n.uX)(),(0,n.CE)("div",s,[e.isAuthenticated?((0,n.uX)(),(0,n.Wv)(l,{key:1})):((0,n.uX)(),(0,n.Wv)(c,{key:0}))])}var r=t(782),c=t.p+"img/logo.1a43b2bb.png",l=t(144);const u={class:"login-container"},d={class:"buttons"},f={class:"modal-content"},v={class:"form-group"},p={class:"form-group"};var g=(0,n.pM)({__name:"LoginCard",props:{showLogin:{type:Boolean}},setup(e){const a=(0,l.KR)(""),t=(0,l.KR)("");return(e,s)=>((0,n.uX)(),(0,n.CE)("div",u,[s[12]||(s[12]=(0,n.Lk)("h1",null,"Welcome to Relation!",-1)),s[13]||(s[13]=(0,n.Lk)("h2",null,"Connect, Share, and Grow Together",-1)),(0,n.Lk)("div",d,[s[6]||(s[6]=(0,n.Fv)('<button class="google" data-v-611bb4b1>Sign in with Google</button><button class="apple" data-v-611bb4b1>Sign in with Apple</button><div class="divider" data-v-611bb4b1>---- or ----</div><button class="create-account" data-v-611bb4b1>Create Account</button><p class="signin" data-v-611bb4b1>Already have an account?</p>',5)),(0,n.Lk)("button",{class:"login",onClick:s[0]||(s[0]=a=>e.$emit("toggleModal"))},"Login")]),e.showLogin?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-overlay",onClick:s[5]||(s[5]=(0,o.D$)((a=>e.$emit("toggleModal")),["self"]))},[(0,n.Lk)("div",f,[(0,n.Lk)("button",{class:"close-btn",onClick:s[1]||(s[1]=a=>e.$emit("toggleModal"))},"Ã—"),s[10]||(s[10]=(0,n.Lk)("h3",null,"Log In",-1)),(0,n.Lk)("form",{onSubmit:s[4]||(s[4]=(0,o.D$)((o=>e.$emit("login",{username:a.value,password:t.value})),["prevent"]))},[(0,n.Lk)("div",v,[s[7]||(s[7]=(0,n.Lk)("label",{for:"account"},"Account",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"account","onUpdate:modelValue":s[2]||(s[2]=e=>a.value=e),placeholder:"Enter your account",required:"",autocomplete:"username"},null,512),[[o.Jo,a.value]])]),(0,n.Lk)("div",p,[s[8]||(s[8]=(0,n.Lk)("label",{for:"password"},"Password",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[3]||(s[3]=e=>t.value=e),placeholder:"Enter your password",required:"",autocomplete:"current-password"},null,512),[[o.Jo,t.value]])]),s[9]||(s[9]=(0,n.Lk)("button",{type:"submit",class:"submit-btn"},"Confirm",-1))],32),s[11]||(s[11]=(0,n.Lk)("p",null,[(0,n.eW)("Don't have an account? "),(0,n.Lk)("a",{href:"#"},"Sign Up")],-1))])])):(0,n.Q3)("",!0)]))}}),m=t(1241);const h=(0,m.A)(g,[["__scopeId","data-v-611bb4b1"]]);var b=h;const k={class:"container"},L={class:"right-side"};var w=(0,n.pM)({__name:"LoginPage",setup(e){const a=(0,r.Pj)(),t=(0,l.KR)(!1),o=()=>{t.value=!t.value},s=async e=>{try{await a.dispatch("auth/login",e);o()}catch(t){console.error(t),alert("Failed!!!!!!!!!")}};return(e,a)=>((0,n.uX)(),(0,n.CE)("div",k,[a[0]||(a[0]=(0,n.Lk)("div",{class:"left-side"},[(0,n.Lk)("img",{src:c,alt:"logo",id:"logo"})],-1)),(0,n.Lk)("div",L,[(0,n.bF)(b,{showLogin:t.value,onToggleModal:o,onLogin:s},null,8,["showLogin"])])]))}});const y=(0,m.A)(w,[["__scopeId","data-v-034107ae"]]);var C=y;const P={id:"app"},_={class:"container"};function A(e,a,t,o,s,i){const r=(0,n.g2)("NavBar");return(0,n.uX)(),(0,n.CE)("div",P,[(0,n.Lk)("div",_,[(0,n.bF)(r),a[1]||(a[1]=(0,n.Lk)("div",{id:"posts"},"Posts",-1)),a[2]||(a[2]=(0,n.Lk)("div",{id:"news"},"News",-1))]),(0,n.Lk)("button",{class:"logout-btn",onClick:a[0]||(a[0]=(...a)=>e.handleLogout&&e.handleLogout(...a))},"Logout")])}const M={class:"sidebar"};function O(e,a){return(0,n.uX)(),(0,n.CE)("div",M,a[0]||(a[0]=[(0,n.Fv)('<a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-home" data-v-2958e11e></i> Home </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-search" data-v-2958e11e></i> Explore </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-bell" data-v-2958e11e></i> Notifications </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-envelope" data-v-2958e11e></i> Messages </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-brain" data-v-2958e11e></i> Grok </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-bookmark" data-v-2958e11e></i> Bookmarks </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-briefcase" data-v-2958e11e></i> Jobs </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-users" data-v-2958e11e></i> Communities </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-star" data-v-2958e11e></i> Premium </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-check-circle" data-v-2958e11e></i> Verified Orgs </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-user" data-v-2958e11e></i> Profile </a><a class="menu-item" href="#" data-v-2958e11e><i class="fas fa-ellipsis-h" data-v-2958e11e></i> More </a><a class="post-button" href="#" data-v-2958e11e>Post</a>',13)]))}const E={},j=(0,m.A)(E,[["render",O],["__scopeId","data-v-2958e11e"]]);var T=j,S=(0,n.pM)({name:"MainPage",components:{NavBar:T},setup(){const e=(0,r.Pj)(),a=()=>{e.dispatch("auth/logout")};return{handleLogout:a}}});const I=(0,m.A)(S,[["render",A],["__scopeId","data-v-7152e80d"]]);var X=I,x=(0,n.pM)({name:"App",components:{LoginPage:C,MainPage:X},setup(){const e=(0,r.Pj)(),a=(0,n.EW)((()=>e.getters["auth/isAuthenticated"]));return{isAuthenticated:a}}});const $=(0,m.A)(x,[["render",i]]);var F=$;const N={token:localStorage.getItem("token")||null},W={isAuthenticated(e){return!!e.token}},B={setToken(e,a){e.token=a,localStorage.setItem("token",a)},clearToken(e){e.token=null,localStorage.removeItem("token")}},J={async login({commit:e},a){try{const t=await fetch("api/relation/token/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});if(!t.ok)throw new Error("Login failed");const o=await t.json();return e("setToken",o.access),o}catch(t){throw console.error(t),t}},logout({commit:e}){e("clearToken"),console.log("Triggering logout action")}};var R={namespaced:!0,state:N,getters:W,mutations:B,actions:J},D=(0,r.y$)({modules:{auth:R}});(0,o.Ef)(F).use(D).mount("#app")}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var s=a[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,o,n,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],s=e[u][2];for(var r=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[c])}))?o.splice(c--,1):(r=!1,s<i&&(i=s));if(r){e.splice(u--,1);var l=n();void 0!==l&&(a=l)}}return a}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,n,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var n,s,i=o[0],r=o[1],c=o[2],l=0;if(i.some((function(a){return 0!==e[a]}))){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(c)var u=c(t)}for(a&&a(o);l<i.length;l++)s=i[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},o=self["webpackChunkrelation_frontend"]=self["webpackChunkrelation_frontend"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(4244)}));o=t.O(o)})();
//# sourceMappingURL=app.ed079b6c.js.map